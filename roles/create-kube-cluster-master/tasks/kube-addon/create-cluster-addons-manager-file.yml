---

# file: create-cluster-addon-manager-file.yml
#

# func:
#   . create cluster addon manager


####################################################
# create addon directory
#

- name: create cluster addon directory
  file:
    path: "{{ kube_cluster_addon_path }}/"
    state: directory
    owner: "{{ kube_user }}"
    group: "{{ kube_group }}"
    mode: 0644

- name: create cluster addon-manager yaml files
  template:
    src: "addon/{{ item }}.j2" 
    dest: "{{ kube_cluster_addon_path }}/{{ item }}"
    owner: "{{ kube_user }}"
    group: "{{ kube_group }}"
    mode: 0644
  with_items:
    - addon-manager.yaml
